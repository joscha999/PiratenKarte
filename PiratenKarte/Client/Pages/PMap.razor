@page "/{Latitude:double?}/{Longitude:double?}/{SetObject:guid?}"

@using FisSst.BlazorMaps;

<PageTitle>Karte</PageTitle>

<style>
    #map {
        height: 100%;
        width: 100%;
        float: left;
    }

    .btn-add {
        position: absolute;
        width: 4rem;
        height: 4rem;
        border-radius: 2rem;
        border: 1px solid black;
        color: black;
        z-index: 99999;
        text-align: center;
        vertical-align: middle;
        line-height: 4rem;
        font-size: 250%;
    }
</style>

<div style="width: 100%; height: 100%;">
    <Map @ref=Map MapOptions=Options AfterRender=AfterMapRendered></Map>

    @if (Mode == MapMode.Chose) {
        <div class="marker-dot" style="margin: auto; z-index: 99999; position: relative; top: 50%; background-color: #9d00ff;"></div>
    }
</div>

<button class="btn-add"
        style="bottom: 1rem; right: 1rem; background-color: @(Mode == MapMode.View ? "#f80" : "#c61700");"
        @onclick=BtnModeClicked>
    <span>@(Mode == MapMode.View ? "＋" : "✕")</span>
</button>

@if (Mode == MapMode.Chose) {
    <button class="btn-add"
            style="bottom: 1rem; right: 6rem; background-color: #43a001;"
            @onclick=BtnAcceptClicked>
        <span>✓</span>
    </button>
}